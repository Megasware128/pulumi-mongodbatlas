// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package mongodbatlas

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// `SearchIndex` provides a Search Index resource. This allows indexes to be created.
//
// ## Example Usage
// ### Basic
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-mongodbatlas/sdk/v3/go/mongodbatlas"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := mongodbatlas.NewSearchIndex(ctx, "test", &mongodbatlas.SearchIndexArgs{
// 			Analyzer:        pulumi.String("lucene.standard"),
// 			ClusterName:     pulumi.String("<CLUSTER_NAME>"),
// 			CollectionName:  pulumi.String("collection_test"),
// 			Database:        pulumi.String("database_test"),
// 			MappingsDynamic: pulumi.Bool(true),
// 			ProjectId:       pulumi.String("<PROJECT_ID>"),
// 			SearchAnalyzer:  pulumi.String("lucene.standard"),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
type SearchIndex struct {
	pulumi.CustomResourceState

	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when creating the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	Analyzer pulumi.StringOutput `pulumi:"analyzer"`
	// [Custom analyzers](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/custom/#std-label-custom-analyzers) to use in this index. This is an array of JSON objects.
	Analyzers pulumi.StringPtrOutput `pulumi:"analyzers"`
	// The name of the cluster where you want to create the search index within.
	ClusterName pulumi.StringOutput `pulumi:"clusterName"`
	// Name of the collection the index is on.
	CollectionName pulumi.StringOutput `pulumi:"collectionName"`
	// Name of the database the collection is in.
	Database pulumi.StringOutput `pulumi:"database"`
	IndexId  pulumi.StringOutput `pulumi:"indexId"`
	// Indicates whether the index uses dynamic or static mapping. For dynamic mapping, set the value to `true`. For static mapping, specify the fields to index using `mappingsFields`
	MappingsDynamic pulumi.BoolPtrOutput `pulumi:"mappingsDynamic"`
	// attribute is required when `mappingsDynamic` is true. This field needs to be a JSON string in order to be decoded correctly.
	MappingsFields pulumi.StringPtrOutput `pulumi:"mappingsFields"`
	// Name of the custom analyzer. Names must be unique within an index, and may **not** start with any of the following strings:
	// * `lucene`
	// * `builtin`
	// * `mongodb`
	Name pulumi.StringOutput `pulumi:"name"`
	// The ID of the organization or project you want to create the search index within.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when searching the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	SearchAnalyzer pulumi.StringPtrOutput `pulumi:"searchAnalyzer"`
	Status         pulumi.StringOutput    `pulumi:"status"`
}

// NewSearchIndex registers a new resource with the given unique name, arguments, and options.
func NewSearchIndex(ctx *pulumi.Context,
	name string, args *SearchIndexArgs, opts ...pulumi.ResourceOption) (*SearchIndex, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Analyzer == nil {
		return nil, errors.New("invalid value for required argument 'Analyzer'")
	}
	if args.ClusterName == nil {
		return nil, errors.New("invalid value for required argument 'ClusterName'")
	}
	if args.CollectionName == nil {
		return nil, errors.New("invalid value for required argument 'CollectionName'")
	}
	if args.Database == nil {
		return nil, errors.New("invalid value for required argument 'Database'")
	}
	if args.ProjectId == nil {
		return nil, errors.New("invalid value for required argument 'ProjectId'")
	}
	var resource SearchIndex
	err := ctx.RegisterResource("mongodbatlas:index/searchIndex:SearchIndex", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetSearchIndex gets an existing SearchIndex resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetSearchIndex(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *SearchIndexState, opts ...pulumi.ResourceOption) (*SearchIndex, error) {
	var resource SearchIndex
	err := ctx.ReadResource("mongodbatlas:index/searchIndex:SearchIndex", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering SearchIndex resources.
type searchIndexState struct {
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when creating the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	Analyzer *string `pulumi:"analyzer"`
	// [Custom analyzers](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/custom/#std-label-custom-analyzers) to use in this index. This is an array of JSON objects.
	Analyzers *string `pulumi:"analyzers"`
	// The name of the cluster where you want to create the search index within.
	ClusterName *string `pulumi:"clusterName"`
	// Name of the collection the index is on.
	CollectionName *string `pulumi:"collectionName"`
	// Name of the database the collection is in.
	Database *string `pulumi:"database"`
	IndexId  *string `pulumi:"indexId"`
	// Indicates whether the index uses dynamic or static mapping. For dynamic mapping, set the value to `true`. For static mapping, specify the fields to index using `mappingsFields`
	MappingsDynamic *bool `pulumi:"mappingsDynamic"`
	// attribute is required when `mappingsDynamic` is true. This field needs to be a JSON string in order to be decoded correctly.
	MappingsFields *string `pulumi:"mappingsFields"`
	// Name of the custom analyzer. Names must be unique within an index, and may **not** start with any of the following strings:
	// * `lucene`
	// * `builtin`
	// * `mongodb`
	Name *string `pulumi:"name"`
	// The ID of the organization or project you want to create the search index within.
	ProjectId *string `pulumi:"projectId"`
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when searching the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	SearchAnalyzer *string `pulumi:"searchAnalyzer"`
	Status         *string `pulumi:"status"`
}

type SearchIndexState struct {
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when creating the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	Analyzer pulumi.StringPtrInput
	// [Custom analyzers](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/custom/#std-label-custom-analyzers) to use in this index. This is an array of JSON objects.
	Analyzers pulumi.StringPtrInput
	// The name of the cluster where you want to create the search index within.
	ClusterName pulumi.StringPtrInput
	// Name of the collection the index is on.
	CollectionName pulumi.StringPtrInput
	// Name of the database the collection is in.
	Database pulumi.StringPtrInput
	IndexId  pulumi.StringPtrInput
	// Indicates whether the index uses dynamic or static mapping. For dynamic mapping, set the value to `true`. For static mapping, specify the fields to index using `mappingsFields`
	MappingsDynamic pulumi.BoolPtrInput
	// attribute is required when `mappingsDynamic` is true. This field needs to be a JSON string in order to be decoded correctly.
	MappingsFields pulumi.StringPtrInput
	// Name of the custom analyzer. Names must be unique within an index, and may **not** start with any of the following strings:
	// * `lucene`
	// * `builtin`
	// * `mongodb`
	Name pulumi.StringPtrInput
	// The ID of the organization or project you want to create the search index within.
	ProjectId pulumi.StringPtrInput
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when searching the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	SearchAnalyzer pulumi.StringPtrInput
	Status         pulumi.StringPtrInput
}

func (SearchIndexState) ElementType() reflect.Type {
	return reflect.TypeOf((*searchIndexState)(nil)).Elem()
}

type searchIndexArgs struct {
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when creating the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	Analyzer string `pulumi:"analyzer"`
	// [Custom analyzers](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/custom/#std-label-custom-analyzers) to use in this index. This is an array of JSON objects.
	Analyzers *string `pulumi:"analyzers"`
	// The name of the cluster where you want to create the search index within.
	ClusterName string `pulumi:"clusterName"`
	// Name of the collection the index is on.
	CollectionName string `pulumi:"collectionName"`
	// Name of the database the collection is in.
	Database string `pulumi:"database"`
	// Indicates whether the index uses dynamic or static mapping. For dynamic mapping, set the value to `true`. For static mapping, specify the fields to index using `mappingsFields`
	MappingsDynamic *bool `pulumi:"mappingsDynamic"`
	// attribute is required when `mappingsDynamic` is true. This field needs to be a JSON string in order to be decoded correctly.
	MappingsFields *string `pulumi:"mappingsFields"`
	// Name of the custom analyzer. Names must be unique within an index, and may **not** start with any of the following strings:
	// * `lucene`
	// * `builtin`
	// * `mongodb`
	Name *string `pulumi:"name"`
	// The ID of the organization or project you want to create the search index within.
	ProjectId string `pulumi:"projectId"`
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when searching the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	SearchAnalyzer *string `pulumi:"searchAnalyzer"`
	Status         *string `pulumi:"status"`
}

// The set of arguments for constructing a SearchIndex resource.
type SearchIndexArgs struct {
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when creating the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	Analyzer pulumi.StringInput
	// [Custom analyzers](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/custom/#std-label-custom-analyzers) to use in this index. This is an array of JSON objects.
	Analyzers pulumi.StringPtrInput
	// The name of the cluster where you want to create the search index within.
	ClusterName pulumi.StringInput
	// Name of the collection the index is on.
	CollectionName pulumi.StringInput
	// Name of the database the collection is in.
	Database pulumi.StringInput
	// Indicates whether the index uses dynamic or static mapping. For dynamic mapping, set the value to `true`. For static mapping, specify the fields to index using `mappingsFields`
	MappingsDynamic pulumi.BoolPtrInput
	// attribute is required when `mappingsDynamic` is true. This field needs to be a JSON string in order to be decoded correctly.
	MappingsFields pulumi.StringPtrInput
	// Name of the custom analyzer. Names must be unique within an index, and may **not** start with any of the following strings:
	// * `lucene`
	// * `builtin`
	// * `mongodb`
	Name pulumi.StringPtrInput
	// The ID of the organization or project you want to create the search index within.
	ProjectId pulumi.StringInput
	// [Analyzer](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/#std-label-analyzers-ref) to use when searching the index. Defaults to [lucene.standard](https://docs.atlas.mongodb.com/reference/atlas-search/analyzers/standard/#std-label-ref-standard-analyzer)
	SearchAnalyzer pulumi.StringPtrInput
	Status         pulumi.StringPtrInput
}

func (SearchIndexArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*searchIndexArgs)(nil)).Elem()
}

type SearchIndexInput interface {
	pulumi.Input

	ToSearchIndexOutput() SearchIndexOutput
	ToSearchIndexOutputWithContext(ctx context.Context) SearchIndexOutput
}

func (*SearchIndex) ElementType() reflect.Type {
	return reflect.TypeOf((*SearchIndex)(nil))
}

func (i *SearchIndex) ToSearchIndexOutput() SearchIndexOutput {
	return i.ToSearchIndexOutputWithContext(context.Background())
}

func (i *SearchIndex) ToSearchIndexOutputWithContext(ctx context.Context) SearchIndexOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SearchIndexOutput)
}

func (i *SearchIndex) ToSearchIndexPtrOutput() SearchIndexPtrOutput {
	return i.ToSearchIndexPtrOutputWithContext(context.Background())
}

func (i *SearchIndex) ToSearchIndexPtrOutputWithContext(ctx context.Context) SearchIndexPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SearchIndexPtrOutput)
}

type SearchIndexPtrInput interface {
	pulumi.Input

	ToSearchIndexPtrOutput() SearchIndexPtrOutput
	ToSearchIndexPtrOutputWithContext(ctx context.Context) SearchIndexPtrOutput
}

type searchIndexPtrType SearchIndexArgs

func (*searchIndexPtrType) ElementType() reflect.Type {
	return reflect.TypeOf((**SearchIndex)(nil))
}

func (i *searchIndexPtrType) ToSearchIndexPtrOutput() SearchIndexPtrOutput {
	return i.ToSearchIndexPtrOutputWithContext(context.Background())
}

func (i *searchIndexPtrType) ToSearchIndexPtrOutputWithContext(ctx context.Context) SearchIndexPtrOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SearchIndexPtrOutput)
}

// SearchIndexArrayInput is an input type that accepts SearchIndexArray and SearchIndexArrayOutput values.
// You can construct a concrete instance of `SearchIndexArrayInput` via:
//
//          SearchIndexArray{ SearchIndexArgs{...} }
type SearchIndexArrayInput interface {
	pulumi.Input

	ToSearchIndexArrayOutput() SearchIndexArrayOutput
	ToSearchIndexArrayOutputWithContext(context.Context) SearchIndexArrayOutput
}

type SearchIndexArray []SearchIndexInput

func (SearchIndexArray) ElementType() reflect.Type {
	return reflect.TypeOf(([]*SearchIndex)(nil))
}

func (i SearchIndexArray) ToSearchIndexArrayOutput() SearchIndexArrayOutput {
	return i.ToSearchIndexArrayOutputWithContext(context.Background())
}

func (i SearchIndexArray) ToSearchIndexArrayOutputWithContext(ctx context.Context) SearchIndexArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SearchIndexArrayOutput)
}

// SearchIndexMapInput is an input type that accepts SearchIndexMap and SearchIndexMapOutput values.
// You can construct a concrete instance of `SearchIndexMapInput` via:
//
//          SearchIndexMap{ "key": SearchIndexArgs{...} }
type SearchIndexMapInput interface {
	pulumi.Input

	ToSearchIndexMapOutput() SearchIndexMapOutput
	ToSearchIndexMapOutputWithContext(context.Context) SearchIndexMapOutput
}

type SearchIndexMap map[string]SearchIndexInput

func (SearchIndexMap) ElementType() reflect.Type {
	return reflect.TypeOf((map[string]*SearchIndex)(nil))
}

func (i SearchIndexMap) ToSearchIndexMapOutput() SearchIndexMapOutput {
	return i.ToSearchIndexMapOutputWithContext(context.Background())
}

func (i SearchIndexMap) ToSearchIndexMapOutputWithContext(ctx context.Context) SearchIndexMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SearchIndexMapOutput)
}

type SearchIndexOutput struct {
	*pulumi.OutputState
}

func (SearchIndexOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*SearchIndex)(nil))
}

func (o SearchIndexOutput) ToSearchIndexOutput() SearchIndexOutput {
	return o
}

func (o SearchIndexOutput) ToSearchIndexOutputWithContext(ctx context.Context) SearchIndexOutput {
	return o
}

func (o SearchIndexOutput) ToSearchIndexPtrOutput() SearchIndexPtrOutput {
	return o.ToSearchIndexPtrOutputWithContext(context.Background())
}

func (o SearchIndexOutput) ToSearchIndexPtrOutputWithContext(ctx context.Context) SearchIndexPtrOutput {
	return o.ApplyT(func(v SearchIndex) *SearchIndex {
		return &v
	}).(SearchIndexPtrOutput)
}

type SearchIndexPtrOutput struct {
	*pulumi.OutputState
}

func (SearchIndexPtrOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**SearchIndex)(nil))
}

func (o SearchIndexPtrOutput) ToSearchIndexPtrOutput() SearchIndexPtrOutput {
	return o
}

func (o SearchIndexPtrOutput) ToSearchIndexPtrOutputWithContext(ctx context.Context) SearchIndexPtrOutput {
	return o
}

type SearchIndexArrayOutput struct{ *pulumi.OutputState }

func (SearchIndexArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]SearchIndex)(nil))
}

func (o SearchIndexArrayOutput) ToSearchIndexArrayOutput() SearchIndexArrayOutput {
	return o
}

func (o SearchIndexArrayOutput) ToSearchIndexArrayOutputWithContext(ctx context.Context) SearchIndexArrayOutput {
	return o
}

func (o SearchIndexArrayOutput) Index(i pulumi.IntInput) SearchIndexOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) SearchIndex {
		return vs[0].([]SearchIndex)[vs[1].(int)]
	}).(SearchIndexOutput)
}

type SearchIndexMapOutput struct{ *pulumi.OutputState }

func (SearchIndexMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]SearchIndex)(nil))
}

func (o SearchIndexMapOutput) ToSearchIndexMapOutput() SearchIndexMapOutput {
	return o
}

func (o SearchIndexMapOutput) ToSearchIndexMapOutputWithContext(ctx context.Context) SearchIndexMapOutput {
	return o
}

func (o SearchIndexMapOutput) MapIndex(k pulumi.StringInput) SearchIndexOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) SearchIndex {
		return vs[0].(map[string]SearchIndex)[vs[1].(string)]
	}).(SearchIndexOutput)
}

func init() {
	pulumi.RegisterOutputType(SearchIndexOutput{})
	pulumi.RegisterOutputType(SearchIndexPtrOutput{})
	pulumi.RegisterOutputType(SearchIndexArrayOutput{})
	pulumi.RegisterOutputType(SearchIndexMapOutput{})
}
